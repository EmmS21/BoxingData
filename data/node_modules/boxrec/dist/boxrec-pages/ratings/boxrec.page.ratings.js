"use strict";var __extends=this&&this.__extends||function(){var n=function(e,i){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var t in i)i.hasOwnProperty(t)&&(e[t]=i[t])})(e,i)};return function(e,i){function t(){this.constructor=e}n(e,i),e.prototype=null===i?Object.create(i):(t.prototype=i.prototype,new t)}}(),__decorate=this&&this.__decorate||function(e,i,t,n){var r,o=arguments.length,a=o<3?i:null===n?n=Object.getOwnPropertyDescriptor(i,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,i,t,n);else for(var s=e.length-1;0<=s;s--)(r=e[s])&&(a=(o<3?r(a):3<o?r(i,t,a):r(i,t))||a);return 3<o&&a&&Object.defineProperty(i,t,a),a};Object.defineProperty(exports,"__esModule",{value:!0});var BoxrecRatingsType,boxrec_page_lists_1=require("../../boxrec-common-tables/boxrec-page-lists"),output_decorator_1=require("../../decorators/output.decorator"),helpers_1=require("../../helpers"),boxrec_page_ratings_active_all_divisions_row_1=require("./boxrec.page.ratings.active-all-divisions.row"),boxrec_page_ratings_active_division_row_1=require("./boxrec.page.ratings.active-division.row"),boxrec_page_ratings_active_inactive_all_divisions_row_1=require("./boxrec.page.ratings.active-inactive-all-divisions.row"),boxrec_page_ratings_active_inactive_division_row_1=require("./boxrec.page.ratings.active-inactive-division.row");!function(e){e[e.activeAllDivisions=0]="activeAllDivisions",e[e.activeWeightDivision=1]="activeWeightDivision",e[e.activeInactiveAllDivisions=2]="activeInactiveAllDivisions",e[e.activeInactiveWeightDivision=3]="activeInactiveWeightDivision"}(BoxrecRatingsType||(BoxrecRatingsType={}));var ratingsTableEl="#ratingsResults",BoxrecPageRatings=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),Object.defineProperty(i.prototype,"boxers",{get:function(){var i=this,t=helpers_1.getHeaderColumnText(this.$(ratingsTableEl));return this.parseRatingsTableContent().map(function(e){switch(i.getRatingsType()){case BoxrecRatingsType.activeWeightDivision:return new boxrec_page_ratings_active_division_row_1.BoxrecPageRatingsActiveDivisionRow(t,e);case BoxrecRatingsType.activeInactiveAllDivisions:return new boxrec_page_ratings_active_inactive_all_divisions_row_1.BoxrecPageRatingsActiveInactiveAllDivisionsRow(t,e);case BoxrecRatingsType.activeAllDivisions:return new boxrec_page_ratings_active_all_divisions_row_1.BoxrecPageRatingsActiveAllDivisionsRow(t,e);case BoxrecRatingsType.activeInactiveWeightDivision:return new boxrec_page_ratings_active_inactive_division_row_1.BoxrecPageRatingsActiveInactiveDivisionRow(t,e)}})},enumerable:!0,configurable:!0}),i.prototype.parseRatingsTableContent=function(){var t=this;return this.$(ratingsTableEl).find("tbody tr").filter(function(e,i){return 6<t.$(i).find("td").length}).map(function(e,i){return t.$(i).html()}).get()},i.prototype.getRatingsType=function(){var e=this.$(ratingsTableEl).find("tbody tr:nth-child(1) td").length;if(9===e)return"career"===helpers_1.trimRemoveLineBreaks(this.$(ratingsTableEl).find("thead th:nth-child(6)").text())?BoxrecRatingsType.activeInactiveAllDivisions:BoxrecRatingsType.activeWeightDivision;if(10===e)return BoxrecRatingsType.activeAllDivisions;if(8===e)return BoxrecRatingsType.activeInactiveWeightDivision;throw new Error("Unknown number of columns,\n has something changed on BoxRec ratings? numberOfColumns: "+e)},i=__decorate([output_decorator_1.OutputGetter([{function:function(e){return e.map(function(e){return e.output})},method:"boxers"},"numberOfPages"])],i)}(boxrec_page_lists_1.BoxrecPageLists);exports.BoxrecPageRatings=BoxrecPageRatings;