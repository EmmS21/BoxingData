"use strict";var __decorate=this&&this.__decorate||function(e,t,i,n){var r,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;0<=s;s--)(r=e[s])&&(o=(a<3?r(o):3<a?r(t,i,o):r(t,i))||o);return 3<a&&o&&Object.defineProperty(t,i,o),o},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});var cheerio=require("cheerio"),boxrec_common_tables_columns_class_1=require("../../boxrec-common-tables/boxrec-common-tables-columns.class"),output_decorator_1=require("../../decorators/output.decorator"),helpers_1=require("../../helpers"),beltOrganizations={BoxRec:null,IBF:null,IBO:null,WBA:null,WBC:null,WBO:null},weightDivisions={bantamweight:beltOrganizations,cruiserweight:beltOrganizations,featherWeight:beltOrganizations,flyweight:beltOrganizations,heavyweight:beltOrganizations,lightFlyweight:beltOrganizations,lightHeavyweight:beltOrganizations,lightweight:beltOrganizations,middleweight:beltOrganizations,minimumweight:beltOrganizations,superBantamweight:beltOrganizations,superFeatherweight:beltOrganizations,superFlyweight:beltOrganizations,superLightweight:beltOrganizations,superMiddleweight:beltOrganizations,superWelterweight:beltOrganizations,welterweight:beltOrganizations},BoxrecPageChampions=function(){function e(e){this.$=cheerio.load(e)}return Object.defineProperty(e.prototype,"boxingOrganizations",{get:function(){return this.parseBoxingOrganizations()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"byWeightDivision",{get:function(){for(var e=weightDivisions,t=0,i=this.parseChampions();t<i.length;t++){var n=i[t];if(n.weightDivision)e[helpers_1.changeToCamelCase(n.weightDivision)]=n.beltHolders}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"champions",{get:function(){return this.parseChampions()},enumerable:!0,configurable:!0}),e.prototype.parseBoxingOrganizations=function(){var n=this,r=[];return this.$(".dataTable th:contains(BoxRec)").first().siblings().each(function(e,t){var i=n.$(t).text();0<(i=i.trim()).length&&r.push(i)}),r.length&&r.unshift("BoxRec"),r},e.prototype.parseChampions=function(){var l=this,c=[],h=this.parseBoxingOrganizations();return this.$(".dataTable tr:nth-child(4n+3)").each(function(e,t){var i=l.$(t).prev().prev().find("td:nth-child(1)").text();c.push({beltHolders:Object.assign({},beltOrganizations),weightDivision:boxrec_common_tables_columns_class_1.BoxrecCommonTablesColumnsClass.parseDivision(i)});var s=c.length-1;l.$(t).find("td").each(function(e,t){if(0!==e){var i={id:null,name:null,picture:null},n=l.$(t).find("a:nth-child(1)");if(n.length){var r=l.$(t).html();if(r&&(r=r.replace("<br>"," "),r=l.$(r).text(),r=helpers_1.trimRemoveLineBreaks(r),n[0]&&n[0].attribs)){var a=n[0].attribs.href.match(/(\d+)$/),o=l.$(t).find("img").attr("src");a&&a[1]&&(i.id=parseInt(a[1],10),i.name=r,i.picture=o,c[s].beltHolders[h[e-1]]=i)}}}})}),c},e=__decorate([output_decorator_1.OutputGetter(["boxingOrganizations","byWeightDivision","champions"]),__metadata("design:paramtypes",[String])],e)}();exports.BoxrecPageChampions=BoxrecPageChampions;