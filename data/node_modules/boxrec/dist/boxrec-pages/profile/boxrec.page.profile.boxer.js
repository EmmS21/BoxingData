"use strict";var __extends=this&&this.__extends||function(){var o=function(e,r){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(e,r)};return function(e,r){function t(){this.constructor=e}o(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}}(),__decorate=this&&this.__decorate||function(e,r,t,o){var n,a=arguments.length,i=a<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,r,t,o);else for(var l=e.length-1;0<=l;l--)(n=e[l])&&(i=(a<3?n(i):3<a?n(r,t,i):n(r,t))||i);return 3<a&&i&&Object.defineProperty(r,t,i),i};Object.defineProperty(exports,"__esModule",{value:!0});var boxrec_common_tables_columns_class_1=require("../../boxrec-common-tables/boxrec-common-tables-columns.class"),bouts_decorator_1=require("../../decorators/bouts.decorator"),output_decorator_1=require("../../decorators/output.decorator"),helpers_1=require("../../helpers"),boxrec_page_profile_1=require("./boxrec.page.profile"),boxrec_page_profile_boxer_bout_row_1=require("./boxrec.page.profile.boxer.bout.row"),boxrec_profile_constants_1=require("./boxrec.profile.constants"),BoxrecPageProfileBoxer=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return __extends(r,e),Object.defineProperty(r.prototype,"KOs",{get:function(){var e=this.$(".profileWLD tr:nth-child(2) .textWon").text();if(e){var r=parseInt(e,10);if(!isNaN(r))return r}return null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"alias",{get:function(){var e=this.parseProfileTableData(boxrec_profile_constants_1.BoxrecProfileTable.alias);return e?boxrec_common_tables_columns_class_1.BoxrecCommonTablesColumnsClass.parseAlias(e):null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"debut",{get:function(){var e=this.parseProfileTableData(boxrec_profile_constants_1.BoxrecProfileTable.debut);return e||null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"division",{get:function(){var e=this.parseProfileTableData(boxrec_profile_constants_1.BoxrecProfileTable.division);return e?boxrec_common_tables_columns_class_1.BoxrecCommonTablesColumnsClass.parseDivision(e):null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"enrollments",{get:function(){var c=this,e=this.$("h2:contains('Enrollments') + .boxerSectionContent table tbody tr"),s=[];return e&&e.each(function(e,r){var t=c.$(r).get(0).children,o=t[0].children[0].data,n=t[1].children[0].data,a=t[2].children[0].data,i=t[3].children[0].children[0].data;if(o&&n&&a&&i){o=helpers_1.trimRemoveLineBreaks(o),n=helpers_1.trimRemoveLineBreaks(n),a=helpers_1.trimRemoveLineBreaks(a);var l=parseInt(helpers_1.trimRemoveLineBreaks(i.replace(/\D+/,"")),10);s.push({by:o,expires:a,id:l,sport:n})}}),s},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hasBoutScheduled",{get:function(){return this.bouts.length>this.numberOfBouts},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){var e=this.parseProfileTableData(boxrec_profile_constants_1.BoxrecProfileTable.height);return helpers_1.parseHeight(e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"nationality",{get:function(){var e=this.parseProfileTableData(boxrec_profile_constants_1.BoxrecProfileTable.nationality);return e?this.$(e).text().trimLeft():null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"numberOfBouts",{get:function(){var e=this.parseProfileTableData(boxrec_profile_constants_1.BoxrecProfileTable.bouts);return e?parseInt(e,10):0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"ranking",{get:function(){var o=this,e=this.parseRanking();if(e){var r=this.$("<div>"+e+"</div>").find("a"),n=[];return r.each(function(e,r){var t=o.$(r).text().trim().replace(",","").split("/").map(function(e){return parseInt(e,10)});n.push(t)}),n}return null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rating",{get:function(){var e=this.parseProfileTableData(boxrec_profile_constants_1.BoxrecProfileTable.rating),r=this.$(e);if(r.get(0)){var t=r.get(0).attribs.style.match(/width\:(\d+)px\;/);if(t&&t[1])return parseInt(t[1],10)}return null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"reach",{get:function(){var e=this.parseProfileTableData(boxrec_profile_constants_1.BoxrecProfileTable.reach);if(e){var r=e.match(/^(\d{2})\&\#x2033\;\s\&\#xA0\;\s\/\s\&\#xA0\;\s(\d{3})cm$/);if(r){var t=r[1],o=r[2];return[parseInt(t,10),parseInt(o,10)]}}return null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"record",{get:function(){var e={draw:null,loss:null,win:null},r=this.$(".profileWLD tr:nth-child(1)"),t=r.find("td:nth-child(1)").text(),o=r.find("td:nth-child(2)").text(),n=r.find("td:nth-child(3)").text();return t&&(e.win=parseInt(t,10)),o&&(e.loss=parseInt(o,10)),n&&(e.draw=parseInt(n,10)),e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rounds",{get:function(){var e=this.parseProfileTableData(boxrec_profile_constants_1.BoxrecProfileTable.rounds);return e?parseInt(e,10):null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"stance",{get:function(){var e=this.parseProfileTableData(boxrec_profile_constants_1.BoxrecProfileTable.stance);return e||null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"suspended",{get:function(){var e=this.$("body").find(".profileTable div:contains('suspended'):nth-child(1)");return e.length?helpers_1.trimRemoveLineBreaks(e.text()):null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"titlesHeld",{get:function(){var e=this.parseProfileTableData(boxrec_profile_constants_1.BoxrecProfileTable.titlesHeld);if(e){var r=this.$(e),t=this.$;return r.find("a").map(function(){var e=t(this).text();return(e=e.replace(/\s{2,}/g," ")).trim()}).get()}return[]},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"vadacbp",{get:function(){return!!this.parseProfileTableData(boxrec_profile_constants_1.BoxrecProfileTable.vadacbp)},enumerable:!0,configurable:!0}),r.prototype.parseRanking=function(){var e=this.$('.profileTable table td a[href*="/en/ratings"]');return e?e.parent().html():null},r=__decorate([bouts_decorator_1.BoutsGetter(".dataTable[width='100%']",boxrec_page_profile_boxer_bout_row_1.BoxrecPageProfileBoxerBoutRow,1,!0),output_decorator_1.OutputGetter(["KOs","alias","birthName","birthPlace","born",{function:function(e){return e.map(function(e){return e.output})},method:"bouts"},"debut","division","globalId","hasBoutScheduled","height","name","nationality","numberOfBouts","otherInfo","picture","ranking","rating","reach","record","residence","role","rounds","stance","status","suspended","titlesHeld","vadacbp"])],r)}(boxrec_page_profile_1.BoxrecPageProfile);exports.BoxrecPageProfileBoxer=BoxrecPageProfileBoxer;